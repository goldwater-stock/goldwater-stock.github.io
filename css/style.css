/* ===== Reset / Base ===== */

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: #f5f5f7;
  color: #111;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
               Roboto, Helvetica, Arial, sans-serif;
  overflow-y: scroll;
}

/* ===== Header ===== */

header {
  background: #fff;
  border-bottom: 1px solid #ddd;
  padding: 12px 16px;
}

header h1 {
  margin: 0 0 8px 0;
  font-size: 1.2rem;
}

nav a {
  margin-right: 12px;
  text-decoration: none;
  color: #333;
  font-size: 0.9rem;
}

nav a.active {
  font-weight: 600;
}

/* ===== Main Layout ===== */

.main {
  padding: 16px;
}

/* ===== Columns Container ===== */

.columns {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
}

/* ===== Column ===== */

.column {
  flex: 0 0 500px;
  max-width: 500px;
  background: #fff;
  border-radius: 8px;
  padding: 12px;
  scroll-snap-align: start;
  cursor: default;
}

/* ===== Column Title ===== */

.column h2 {
  margin: 0 0 8px 0;
  font-size: 1rem;
  cursor: grab;
}

.column h2:active {
  cursor: grabbing;
}

/* ===== Stock Header ===== */

.stock-header {
  display: grid;
  grid-template-columns: 28% 28% 18% 26%;
  column-gap: 8px;
  padding: 6px 0;
  font-size: 0.85rem;
  font-weight: 600;
  border-bottom: 1px solid #ddd;
  user-select: none;
}

.stock-header div[data-key="name"] {
  display: none;
}

.stock-header div[data-key="code"]::after {
  content: " / 公司";
  font-weight: 400;
}


.stock-header div {
  cursor: pointer;
}

.stock-header div:hover {
  text-decoration: underline;
}

/* 禁止 drag */
.stock-header,
.stock {
  -webkit-user-drag: none;
  user-drag: none;
}

/* =================================================
   Stock Row（正確兩行，不會爆行）
   ================================================= */

/* =================================================
   Stock Row（穩定版，實測不會消失）
   ================================================= */

.stock {
  display: grid;
  grid-template-rows: auto auto;
  row-gap: 4px;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
  font-size: 0.9rem;
}

.stock:last-child {
  border-bottom: none;
}

/* 第 1 行：公司名 */

.stock .name {
  font-weight: 500;
  line-height: 1.3;
}

/* 第 2 行：4 欄對齊 header */

.stock .code,
.stock .price,
.stock .change,
.stock .rating {
  display: inline-block;
  font-size: 0.85em;
  vertical-align: top;
}

/* 第二行實際寬度控制 */

.stock .code   { width: 28%; }
.stock .price  { width: 28%; text-align: right; }
.stock .change { width: 18%; text-align: right; }
.stock .rating { width: 26%; text-align: right; }


/* ===== Rating Colors ===== */

.rating.buy {
  color: #0a7;
  font-weight: 600;
}

.rating.sell {
  color: #d33;
  font-weight: 600;
}

.rating.hold {
  color: #888;
}

/* ===== Dragging State ===== */

.column.dragging {
  opacity: 0.6;
}

/* ===== Mobile ===== */

@media (max-width: 768px) {
  .column {
    flex: 0 0 calc(100vw - 32px);
    max-width: calc(100vw - 32px);
    font-size: 0.9rem;
  }
}
