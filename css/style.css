/* ===== Reset / Base ===== */

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: #f5f5f7;
  color: #111;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
               Roboto, Helvetica, Arial, sans-serif;
  overflow-y: scroll; /* 防止 scrollbar 導致比例跳動 */
}

/* ===== Header ===== */

header {
  background: #fff;
  border-bottom: 1px solid #ddd;
  padding: 12px 16px;
}

header h1 {
  margin: 0 0 8px 0;
  font-size: 1.2rem;
}

nav a {
  margin-right: 12px;
  text-decoration: none;
  color: #333;
  font-size: 0.9rem;
}

nav a.active {
  font-weight: 600;
}

/* ===== Main Layout ===== */

.main {
  padding: 16px;
}

/* ===== Columns Container ===== */

.columns {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
}

/* ===== Column ===== */

.column {
  flex: 0 0 500px;        /* 桌面固定寬 */
  max-width: 500px;
  background: #fff;
  border-radius: 8px;
  padding: 12px;
  scroll-snap-align: start;
  cursor: default;       /* ⭐ column 本身不可拖 */
}

/* ===== Column Title (Drag Handle Only) ===== */

.column h2 {
  margin: 0 0 8px 0;
  font-size: 1rem;
  cursor: grab;          /* ⭐ 只有標題可拖 */
}

.column h2:active {
  cursor: grabbing;
}

/* ===== Stock Header (Sortable) ===== */

.stock-header {
  display: grid;
  grid-template-columns: 0.8fr 1.2fr 1fr 1fr 0.8fr;
  column-gap: 8px;
  padding: 6px 0;
  font-size: 0.85rem;
  font-weight: 600;
  border-bottom: 1px solid #ddd;
  user-select: none;
  cursor: default;
}

.stock-header div {
  cursor: pointer;
}

.stock-header div:hover {
  text-decoration: underline;
}

/* 禁止 drag（關鍵） */
.stock-header,
.stock {
  -webkit-user-drag: none;
  user-drag: none;
}

/* ===== Stock Row ===== */

.stock {
  display: grid;
  grid-template-columns: 0.8fr 1.2fr 1fr 1fr 0.8fr;
  column-gap: 8px;
  padding: 6px 0;
  border-bottom: 1px solid #eee;
  font-size: 0.9rem;
}

.stock:last-child {
  border-bottom: none;
}

.stock .price,
.stock .change,
.stock .rating {
  text-align: right;
}

/* ===== Rating Colors ===== */

.rating.buy {
  color: #0a7;
  font-weight: 600;
}

.rating.sell {
  color: #d33;
  font-weight: 600;
}

.rating.hold {
  color: #888;
}

/* ===== Dragging State ===== */

.column.dragging {
  opacity: 0.6;
}

/* ===== Mobile ===== */

@media (max-width: 768px) {

  /* 手機保留上下 padding，但 column 寬度扣掉左右 padding */
  .column {
    flex: 0 0 calc(100vw - 32px);
    max-width: calc(100vw - 32px);
    font-size: 0.9rem; /* 整體字體稍小 */
  }

  /* 手機 stock 改為兩行結構 */
  .stock {
    grid-template-columns: 1fr auto auto;
    grid-template-areas:
      "name   name   name"
      "code   price  change  rating";
    row-gap: 4px;
  }

  .stock .name {
    grid-area: name;
    font-weight: 500;
  }

  .stock .code {
    grid-area: code;
    font-size: 0.85em;
    color: #666;
  }

  .stock .price {
    grid-area: price;
  }

  .stock .change {
    grid-area: change;
  }

  .stock .rating {
    grid-area: rating;
  }

}
